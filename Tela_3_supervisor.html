<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supervisor - EmbraPac</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="login-modal">
        <div class="login-box">
            <img src="img/logo-embrapac.jpeg" alt="Logo Embrapac" style="height: 70px; margin-bottom: 20px;">
            <h3 style="color: var(--primary-blue);">Acesso Restrito</h3>
            <p style="color: #666; margin-bottom: 20px;">Área exclusiva para Supervisores.</p>
            
            <input type="password" id="admin-pass" class="input-std" placeholder="Senha (admin)" autofocus>
            
            <button class="btn-action btn-blue" onclick="attemptLogin()">
                <i class="fas fa-sign-in-alt"></i> ENTRAR
            </button>
            <br>
            <a href="index.html" style="color: #999; font-size: 0.9rem; text-decoration: none;">
                <i class="fas fa-arrow-left"></i> Voltar para Operação
            </a>
        </div>
    </div>

    <header>
        <div class="logo-container">
            <img src="img/logo-embrapac.jpeg" alt="Logo Embrapac" class="logo-img">
            <span>Módulo de Supervisão</span>
        </div>
        <nav>
            <a href="index.html">Painel Operação</a>
            <a href="historico.html">Histórico</a>
            <a href="supervisor.html" class="active"><i class="fas fa-lock"></i> Supervisor</a>
        </nav>
        <div class="user-info">
            <i class="fas fa-user-tie"></i> Olá, Carlos (Sup.) | <a href="index.html" style="color: var(--accent-yellow); text-decoration: none; margin-left: 5px;">Sair</a>
        </div>
    </header>

    <main>
        <div class="card supervisor-card">
            <h2><i class="fas fa-clock"></i> Gestão de Turno</h2>
            
            <div style="text-align: center; margin: 20px 0;">
                <p style="margin: 0; color: #666;">Status Atual</p>
                <span id="shift-status" style="font-size: 1.2rem; font-weight: bold; color: #7f8c8d;">AGUARDANDO INÍCIO</span>
                <p id="shift-time" style="font-size: 0.9rem; margin-top: 5px;">--:--</p>
            </div>
            
            <hr style="border: 0; border-top: 1px solid #eee; margin: 15px 0;">
            
            <button id="btn-start-shift" class="btn-action btn-green" onclick="toggleTurno(true)">
                <i class="fas fa-play-circle"></i> Iniciar Novo Turno
            </button>

            <div id="active-shift-controls" style="display: none;">
                <button class="btn-action btn-blue" onclick="alert('Relatório CSV enviado para o e-mail do supervisor.')">
                    <i class="fas fa-file-csv"></i> Exportar Dados
                </button>
                
                <button class="btn-action btn-red" onclick="toggleTurno(false)">
                    <i class="fas fa-stop-circle"></i> Encerrar Turno
                </button>
            </div>
        </div>

        <div class="card">
            <h2><i class="fas fa-chart-line"></i> KPIs em Tempo Real</h2>
            <div class="kpi-grid">
                <div class="kpi-box">
                    <div class="kpi-val">85%</div>
                    <div class="kpi-label">OEE Global</div>
                </div>
                <div class="kpi-box">
                    <div class="kpi-val">1.240</div>
                    <div class="kpi-label">Peças Prod.</div>
                </div>
                <div class="kpi-box">
                    <div class="kpi-val" style="color: var(--danger-color);">2.1%</div>
                    <div class="kpi-label">Refugo</div>
                </div>
                <div class="kpi-box">
                    <div class="kpi-val">15m</div>
                    <div class="kpi-label">Parada</div>
                </div>
            </div>
            <p style="font-size: 0.75rem; color: #999; margin-top: 15px; text-align: right;">
                <i class="fas fa-wifi"></i> Conexão IoT Estável
            </p>
        </div>
        
        <div class="card supervisor-card">
            <h2><i class="fas fa-sliders-h"></i> Parâmetros de Linha</h2>
            
            <label style="font-weight: bold; font-size: 0.9rem;">Meta de Produção (peças/h):</label>
            <input type="number" class="input-std" value="1500">
            
            <label style="font-weight: bold; font-size: 0.9rem;">Tempo de Ciclo (segundos):</label>
            <input type="number" class="input-std" value="2.5" step="0.1">
            
            <button class="btn-action btn-blue" onclick="alert('Novos parâmetros enviados para o CLP!')">
                <i class="fas fa-save"></i> Salvar Alterações
            </button>
        </div>
    </main>

    <script src="supervisor.js"></script>
</body>
</html>